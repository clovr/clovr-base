[bowtie_build default]
$;INPUT_FILE$;=`cat ${input.REFERENCE_FILE_LIST}`

[run_command prepare_input_for_bowtie]
$;INPUT_COMMAND$;=/opt/ergatis/bin/prepare_input_for_bowtie
$;INPUT_ARGS$;=-o $;REPOSITORY_ROOT$;/output_repository/run_command/$;PIPELINEID$;_prepare_input_for_bowtie/combined_input.list -p ${input.PAIRED_READS_LIST} -n ${input.READS_LIST} 

[bowtie default]
$;INPUT_FILE_LIST$;= $;REPOSITORY_ROOT$;/output_repository/run_command/$;PIPELINEID$;_prepare_input_for_bowtie/combined_input.list
$;REFERENCE$;=$;REPOSITORY_ROOT$;/output_directory/bowtie_build/$;PIPELINEID$;_default/reference
$;X$;=${params.MAX_INSERT_SIZE}
$;V$;=${params.MAX_MISMATCHES}
$;M$;=${params.MAX_ALIGNS_PER_READ}

[tag_data clovr_mapping_bowtie_indices]
$;PIPELINE_NAME$;=${pipeline.PIPELINE_WRAPPER_NAME}
$;MAP_FILE$;=$;TMP_DIR$;/$;PIPELINE_NAME$;_download.map.txt
$;OUTPUT_TOKEN$;=clovr_mapping_bowtie_indices
$;INPUT$;=<<_EOT
bowtie_sam	$;REPOSITORY_ROOT$;/output_repository/bowtie/$;PIPELINEID$;_default/aligned_sam_list.txt
#################    Workflow xml download       ##########################
# paths for all the workflow xml dirs are written to /tmp/workflow_xml.txt#
# For further reference, see preprocessing commands in tag_data.xml       #
###########################################################################
workflow_xml_tag	$;TMP_DIR$;/$;PIPELINE_NAME$;_workflow_xml.txt
_EOT
$;PIPELINE_ID$;=$;PIPELINEID$;
$;REPO_ROOT$;=$;REPOSITORY_ROOT$;
