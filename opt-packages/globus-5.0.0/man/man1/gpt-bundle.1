.\" Automatically generated by Pod::Man 2.1801 (Pod::Simple 3.09)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "GPT-BUNDLE 1"
.TH GPT-BUNDLE 1 "2006-01-11" "perl v5.10.0" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
\&\fBgpt-bundle\fR \- Creates binary or source bundles from an installation or a collection of source packages.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBgpt-bundle\fR [options] packages
.PP
.Vb 1
\&  Options:
\&
\&     \-verbose                       Print copious output
\&     \-help                          Print usage
\&     \-man                           Print man page.
\&     \-version                       Print GPT version.
\&     \-srcdir=PATH                   Directory containing source packages
\&     \-tmpdir=PATH                   Directory used to create binary packages
\&     \-installdir=PATH               Directory containing an installation
\&     \-bn=NAME                       Name of the bundle
\&     \-bv=MAJOR.MINOR                Version of the bundle
\&     \-bs=STABILITY                  Stability of the bundle contents
\&     \-bl=VERSION                    Version Label of the bundle
\&     \-native                        Create bundles of native pkgs (RPMs only).
\&     \-all                           Bundle everything in the package directory..
\&     \-nodeps                        Don\*(Aqt include any dependent packages.
\&     \-nosetups                      Don\*(Aqt include dependent setup packages.
\&     \-template                      Outputs empty Bundle Def XML file. 
\&     \-bundledef=FILE                Outputs XML file with command line values. 
\&     \-exclude=PACKAGE               Don\*(Aqt include PACKAGE in bundle
\&     \-config=FILE                   Use bundle options stored in FILE
\&     \-xml=FILE                      XML bundle description file
\&     \-output=FILE                   Name of the bundle file,
\&     \-rpmprefix=PATH                Absolute path encoded in the RPM.
\&     \-buildnumber=NUMBER            Build number used for pgm_static packages
\&     \-rpmlicense=LABEL              License Label added to the RPM header
\&     [packages]                     List of packages to be bundled
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBgpt-bundle\fR Creates binary or source bundles from an installation or a
collection of source packages.  These bundles can then distributed be
installed using \fIgpt-install\fR or \fIgpt-build\fR. A bundle consists of a
collection of packages and a \s-1XML\s0 formatted description file. The \s-1DTD\s0
for this file is found in \fI\f(CI$GPT_LOCATION\fI/etc/gpt_bundle.dtd\fR.
.PP
The script accepts a list of packages from the command line or from an
inputed bundle description file.  It expands this list to include all
of the packages that the listed packages depend on. It then uses this
expanded list to create a new bundle description file which is then
added to the collection of packages to form a bundle.
.PP
\&\fBgpt-bundle\fR assumes that all of the packages needed to create a
source bundle are found in one subdirectory identified by the
\&\fI\-srcdir\fR switch.
.PP
\&\fBgpt-bundle\fR assumes that all of the packages need to create a binary
bundle are installed in a location identified by the \fI\-installdir\fR
flag or \f(CW$GLOBUS_LOCATION\fR.
.PP
The list of packages that can be entered from the command line are of
the form \fI\s-1NAME\-FLAVOR\-PACKAGE_TYPE\s0\fR.  The wildcard character '*' can
also be used.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-srcdir=PATH\fR" 8
.IX Item "-srcdir=PATH"
Specifies where the directory containing your source packages is.
If this is used, a source bundle will be created.  Note that this flag
is required to create source bundles.
.IP "\fB\-installdir=PATH\fR" 8
.IX Item "-installdir=PATH"
Specifies where the installation used for creating binary bundles is.
\&\f(CW$GLOBUS_LOCATION\fR is the default.
.IP "\fB\-xml=FILE\fR" 8
.IX Item "-xml=FILE"
Specifies the input bundle description file.  A new file will be
generated using the contents of this file and included in the bundle.
.IP "\fB\-bundlename=NAME\fR" 8
.IX Item "-bundlename=NAME"
The name of the bundle.  This name is stored in the bundle description
file and used as part of the bundle filename if \fB\-output\fR is not
specified.
.IP "\fB\-bundleversion=MAJOR.MINOR\fR" 8
.IX Item "-bundleversion=MAJOR.MINOR"
This is the bundle version number.  It is stored in the bundle
description file and used for bundle updates.  It is also used for the
bundle filename if \fB\-bundlelabel\fR is not specified.
.IP "\fB\-bundlelabel=VERSION\fR" 8
.IX Item "-bundlelabel=VERSION"
This is the bundle version label. It is stored in the bundle
description file as a string and so can accomodate any versioning
scheme.  The label is used in user queries, and as part of the bundle
filename.
.IP "\fB\-bundlestability=STABILITY\fR" 8
.IX Item "-bundlestability=STABILITY"
This is the bundle version stability.  It is a field that is used to
indicate the stability of this version of the bundle.  The field can
have values of \fBexperimental\fR, \fBalpha\fR, \fBbeta\fR, or \fBproduction\fR.  The
default vaule is experimental.  The field is stored in the bundle description
file and used for user queries.
.IP "\fB\-tmpdir=PATH\fR" 8
.IX Item "-tmpdir=PATH"
Specifies the where the directory is that \fBgpt-bundle\fR should use to
store generated binary packages.
.IP "\fB\-all\fR" 8
.IX Item "-all"
Tells \fBgpt-bundle\fR to bundle all of the packages in the source
package directory or installation.
.IP "\fB\-native\fR" 8
.IX Item "-native"
Tells \fBgpt-bundle\fR to also bundle packages that are in the native
format of the operating system.  Presently this only works for \s-1RPMS\s0 on
linux.  \fBgpt-bundle\fR will output two bundle giving the native bundle
a platform specific extension such as \-rpm.
.IP "\fB\-nodeps\fR" 8
.IX Item "-nodeps"
Tells \fBgpt-bundle\fR to only include the packages specified\*(--do not check for or
include dependencies.
.IP "\fB\-nosetups\fR" 8
.IX Item "-nosetups"
Tells \fBgpt-bundle\fR to exclude any packages that are pulled in by a
setup dependencies.  Note that setup packages that are listed on the
command line will still be added to the bundle..
.IP "\fB\-exclude=package1,package2,...\fR" 8
.IX Item "-exclude=package1,package2,..."
This option excludes the listed packages from the created bundle.  It
can be specified multiple times with the final listing used being an
aggregate of all the listed packages.  This option can be abbreviated
as '\-exclude=package1,package2,...'.
.IP "\fB\-output=FILE\fR" 8
.IX Item "-output=FILE"
This is an alternative way to specify the bundle name.  The output
file is put in the directory from which \fBgpt-bundle\fR was invoked if
no path was given, in a directory relative it if a relative path was
given, or in the absolute location, if given.
.IP "\fB\-template\fR" 8
.IX Item "-template"
Creates an empty Bundle \s-1XML\s0 that can be modified and used to create
a new bundle.
.IP "\fB\-bundledef=FILE\fR" 8
.IX Item "-bundledef=FILE"
Creates an \s-1XML\s0 file with name equal to \fB\s-1FILE\s0\fR.gpt\-bundle.xml.  This
file will contain a \s-1GPT\s0 Bundle definition with values set to those 
passed in on the command line.
.IP "\fB\-rpmprefix=<path_to_installation\fR>" 8
.IX Item "-rpmprefix=<path_to_installation>"
This should be set to the path to your \s-1GLOBUS_LOCATION\s0.  \s-1GPT\s0 will use a
value of \*(L"/usr/grid\*(R" if this option is not specified.
.IP "\fB\-rpmlicense=<label\fR>" 8
.IX Item "-rpmlicense=<label>"
Provides an alternate copyright label for the rpms. The default is
whatever \s-1GPT\s0 was configured with.
.IP "\fB\-help\fR" 8
.IX Item "-help"
Print a brief help message and exits.
.IP "\fB\-buildnumber=<number\fR>" 8
.IX Item "-buildnumber=<number>"
Build number used to version static packages.
.IP "\fB\-man\fR" 8
.IX Item "-man"
Prints the manual page and exits.
.IP "\fB\-version\fR" 8
.IX Item "-version"
Prints the version of \s-1GPT\s0 and exits.
.SH "Bundle Definition File Overrides"
.IX Header "Bundle Definition File Overrides"
The \fI\-bundle*\fR switches can be used to override content in the bundle
definition file inputted by the \fI\-xml\fR switch.  The relationship
between the switches and the bundle definition file contents is shown
in the following table:
.PP
.Vb 1
\&  I<Switch>         I<Element>         I<Attribute>
\&
\&  \-bundlename       GPTBundleData      Name
\&  \-bundleversion    BundleReleaseInfo  Major, Minor
\&  \-bundlelabel      BundleReleaseInfo  VersionLabel
\&  \-bundlestability  VersionStability   Release
.Ve
.SH "Bundle Names and Versions"
.IX Header "Bundle Names and Versions"
\&\fBgpt-bundle\fR encourages a naming convention for bundle filenames.
The convention can be overriden using the \fI\-output\fR switch.  The
convention is as follows:
.PP
.Vb 3
\&  NAME\-VERSION\-src_bundle.tar.gz for source bundles
\&  NAME\-VERSION\-ARCH\-gpt.tar.gz for gpt binary bundles. ARCH is the platform ID.
\&  NAME\-VERSION\-ARCH\-rpm.tar.gz for rpm binary bundles.
.Ve
.PP
\&\s-1NAME\s0 comes from the \fI\-bundlename\fR switch.  \s-1VERSION\s0 comes from the
\&\fI\-bundlelabel\fR switch.  If this switch is not used then \s-1VERSION\s0
comes from the \fI\-bundleversion\fR switch.
.PP
Unless overrided by the switches previously mentioned, the values for
can also be extracted from the bundle definition file inputted by the
\&\fI\-xml\fR switch.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIgpt\-build\fR\|(1) \fIgpt\-install\fR\|(1) \fIgpt\-pkg\fR\|(1)
.SH "AUTHOR"
.IX Header "AUTHOR"
Michael Bletzinger <mbletzin@ncsa.uiuc.edu>,  Eric Blau <blau@mcs.anl.gov> and Patrick Duda <pduda@ncsa.uiuc.edu>
